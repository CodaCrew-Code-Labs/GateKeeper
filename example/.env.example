# Example environment variables for @gateway/cognito-auth
# Copy this file to .env and fill in your actual values

# =============================================================================
# AWS Cognito Configuration (REQUIRED)
# =============================================================================

# Your Cognito User Pool ID (found in AWS Console > Cognito > User Pools)
# Format: us-east-1_XXXXXXXXX
COGNITO_USER_POOL_ID=us-east-1_XXXXXXXXX

# Your Cognito App Client ID (found in User Pool > App Integration > App Clients)
COGNITO_CLIENT_ID=your-client-id

# Your Cognito App Client Secret (OPTIONAL - only for confidential clients)
# Leave empty or remove this line if using a public client
COGNITO_CLIENT_SECRET=your-client-secret-if-applicable

# AWS Region where your Cognito User Pool is located
AWS_REGION=us-east-1

# =============================================================================
# Application Configuration
# =============================================================================

# Port for the Express server
PORT=3000

# Environment mode (development, production, test)
# In development mode, some endpoints skip JWT verification for testing
NODE_ENV=development

# =============================================================================
# Multi-Tenant Configuration Examples
# =============================================================================

# These are examples of how you might configure different tenants
# In a real application, these would be stored in a database or configuration service

# Default tenant configuration
DEFAULT_TENANT_ID=default
DEFAULT_TENANT_NAME=Default Organization

# Example tenant configurations (for reference only)
# TENANT_1_ID=acme-corp
# TENANT_1_NAME=Acme Corporation
# TENANT_1_PLAN=enterprise

# TENANT_2_ID=startup-inc
# TENANT_2_NAME=Startup Inc
# TENANT_2_PLAN=basic

# =============================================================================
# JWT Configuration (Advanced)
# =============================================================================

# JWT token expiration times (configured in Cognito, shown here for reference)
# ID_TOKEN_EXPIRY=1h
# ACCESS_TOKEN_EXPIRY=1h
# REFRESH_TOKEN_EXPIRY=30d

# JWKS cache TTL in milliseconds (default: 300000 = 5 minutes)
# JWKS_CACHE_TTL=300000

# =============================================================================
# Security Configuration (Advanced)
# =============================================================================

# Enable/disable detailed error logging (default: true in development)
# ENABLE_ERROR_LOGGING=true

# Maximum retry attempts for AWS operations (default: 3)
# MAX_RETRY_ATTEMPTS=3

# Request timeout in milliseconds (default: 30000 = 30 seconds)
# REQUEST_TIMEOUT=30000

# =============================================================================
# Development and Testing
# =============================================================================

# Skip JWT verification in development (default: false)
# Only affects endpoints configured with skipVerification option
# SKIP_JWT_VERIFICATION=false

# Mock AWS services for testing (not implemented in this example)
# USE_LOCALSTACK=false
# LOCALSTACK_ENDPOINT=http://localhost:4566

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# CORS Configuration (if needed)
# =============================================================================

# Allowed origins for CORS (comma-separated)
# CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# =============================================================================
# Example Custom Claims Structure
# =============================================================================

# These show the structure of custom claims that might be in your JWT tokens
# Configure these in your Cognito User Pool as custom attributes

# Custom claim examples:
# custom:tenantId - Identifies which tenant the user belongs to
# custom:role - User's role within the tenant (admin, user, viewer)
# custom:plan - Subscription plan (basic, premium, enterprise)
# custom:permissions - Comma-separated list of permissions
# custom:department - User's department within the organization
# custom:region - Geographic region for data residency

# Example JWT payload with custom claims:
# {
#   "sub": "12345678-1234-1234-1234-123456789012",
#   "email": "user@example.com",
#   "custom:tenantId": "acme-corp",
#   "custom:role": "admin",
#   "custom:plan": "enterprise",
#   "custom:permissions": "read,write,delete,admin",
#   "custom:department": "engineering",
#   "custom:region": "us-east-1"
# }

# =============================================================================
# Production Deployment Notes
# =============================================================================

# For production deployment:
# 1. Set NODE_ENV=production
# 2. Use strong, unique CLIENT_SECRET (if applicable)
# 3. Configure proper CORS origins
# 4. Enable request logging and monitoring
# 5. Set appropriate token expiration times in Cognito
# 6. Configure custom attributes for multi-tenancy
# 7. Set up proper IAM roles and policies
# 8. Enable CloudWatch logging for AWS services
# 9. Configure backup and disaster recovery
# 10. Set up monitoring and alerting